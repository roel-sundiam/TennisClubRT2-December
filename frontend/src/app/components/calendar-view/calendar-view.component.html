<style>
  /* Force overflow clipping and enable scrolling */
  .fc .fc-daygrid-day {
    overflow: hidden !important;
    contain: layout paint !important;
  }
  .fc .fc-daygrid-day-frame {
    max-height: 150px !important;
    overflow: hidden !important;
    contain: layout paint !important;
  }
  .fc .fc-daygrid-body tr {
    overflow: hidden !important;
  }
  .fc .fc-daygrid-body td {
    overflow: hidden !important;
    contain: layout paint !important;
  }
  .fc .fc-daygrid-day-events {
    max-height: 100px !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
  }

  /* Ensure events have proper styling with colors */
  .fc .fc-timegrid-event,
  .fc .fc-daygrid-event {
    border-radius: 4px !important;
    padding: 2px 6px !important;
    font-size: 0.7rem !important;
    font-weight: 600 !important;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
    opacity: 1 !important;
    visibility: visible !important;
    color: white !important;
  }

  /* Ensure event container uses the background color and is always visible */
  .fc .fc-event {
    opacity: 1 !important;
    visibility: visible !important;
    display: block !important;
    border: 1px solid rgba(0,0,0,0.1) !important;
  }

  /* Force all event harnesses to be visible */
  .fc .fc-daygrid-event-harness {
    visibility: visible !important;
    opacity: 1 !important;
    display: block !important;
  }

  .fc .fc-event-main {
    color: white !important;
    opacity: 1 !important;
    visibility: visible !important;
  }

  .fc .fc-daygrid-event .fc-event-time {
    display: none !important;
  }

  /* Ensure the event title inherits white color and is visible */
  .fc .fc-event-title {
    color: white !important;
    opacity: 1 !important;
    visibility: visible !important;
    display: block !important;
  }

  /* Ensure event main frame is visible */
  .fc .fc-event-main-frame {
    opacity: 1 !important;
    visibility: visible !important;
    color: white !important;
  }

  /* Ensure title container is visible */
  .fc .fc-event-title-container {
    opacity: 1 !important;
    visibility: visible !important;
    color: white !important;
  }

  /* Ensure events are always visible - colors applied via eventDidMount */
  .fc .fc-event {
    opacity: 1 !important;
    visibility: visible !important;
  }

  /* Smaller font for Homeowner event */
  .fc .fc-event.homeowner-event {
    font-size: 0.5rem !important;
  }

  .fc .fc-event.homeowner-event .fc-event-title {
    font-size: 0.5rem !important;
  }

  /* Even smaller on mobile */
  @media (max-width: 768px) {
    .fc .fc-event.homeowner-event {
      font-size: 0.45rem !important;
    }

    .fc .fc-event.homeowner-event .fc-event-title {
      font-size: 0.45rem !important;
    }
  }

  /* Smallest on extra small mobile */
  @media (max-width: 480px) {
    .fc .fc-event.homeowner-event {
      font-size: 0.42rem !important;
    }

    .fc .fc-event.homeowner-event .fc-event-title {
      font-size: 0.42rem !important;
    }
  }

  @media (max-width: 768px) {
    .fc .fc-daygrid-day {
      max-height: 80px !important;
    }
    .fc .fc-daygrid-day-frame {
      max-height: 80px !important;
    }
    .fc .fc-daygrid-day-events {
      max-height: 45px !important;
    }
  }
</style>

<div class="calendar-container">
  <!-- Header with navigation -->
  <div class="calendar-header">
    <div class="header-content">
      <div class="title-section">
        <h1 class="calendar-title">
          <mat-icon class="title-icon">calendar_month</mat-icon>
          Court Schedule
        </h1>
        <p class="calendar-subtitle">View all court reservations and availability</p>
      </div>
      <div class="header-actions">
        <button mat-raised-button color="primary" class="dashboard-btn" (click)="goToDashboard()">
          <mat-icon>dashboard</mat-icon>
          Dashboard
        </button>
      </div>
    </div>
  </div>

  <!-- Calendar Card -->
  <mat-card class="calendar-card">
    <!-- Loading Overlay -->
    <div *ngIf="loading" class="loading-overlay">
      <mat-spinner diameter="50"></mat-spinner>
      <p class="loading-text">Loading reservations...</p>
    </div>

    <!-- FullCalendar - Always rendered -->
    <div class="fullcalendar-wrapper" [class.loading]="loading">
      <full-calendar #calendar [options]="calendarOptions"></full-calendar>
    </div>

  </mat-card>

  <!-- Quick Actions -->
  <div class="quick-actions">
    <button mat-fab extended color="accent" (click)="bookToday()" class="book-now-btn">
      <mat-icon>add_circle</mat-icon>
      Book Today
    </button>
  </div>
</div>
